{"ast":null,"code":"'use strict';\n\nvar constants = require('../constants');\n/**\n * A Mapbox API error.\n *\n * If there's an error during the API transaction,\n * the Promise returned by `MapiRequest`'s [`send`](#send)\n * method should reject with a `MapiError`.\n *\n * @class MapiError\n * @hideconstructor\n * @property {MapiRequest} request - The errored request.\n * @property {string} type - The type of error. Usually this is `'HttpError'`.\n *   If the request was aborted, so the error was\n *   not sent from the server, the type will be\n *   `'RequestAbortedError'`.\n * @property {number} [statusCode] - The numeric status code of\n *   the HTTP response.\n * @property {Object | string} [body] - If the server sent a response body,\n *   this property exposes that response, parsed as JSON if possible.\n * @property {string} [message] - Whatever message could be derived from the\n *   call site and HTTP response.\n *\n * @param {MapiRequest} options.request\n * @param {number} [options.statusCode]\n * @param {string} [options.body]\n * @param {string} [options.message]\n * @param {string} [options.type]\n */\n\n\nfunction MapiError(options) {\n  var errorType = options.type || constants.ERROR_HTTP;\n  var body;\n\n  if (options.body) {\n    try {\n      body = JSON.parse(options.body);\n    } catch (e) {\n      body = options.body;\n    }\n  } else {\n    body = null;\n  }\n\n  var message = options.message || null;\n\n  if (!message) {\n    if (typeof body === 'string') {\n      message = body;\n    } else if (body && typeof body.message === 'string') {\n      message = body.message;\n    } else if (errorType === constants.ERROR_REQUEST_ABORTED) {\n      message = 'Request aborted';\n    }\n  }\n\n  this.message = message;\n  this.type = errorType;\n  this.statusCode = options.statusCode || null;\n  this.request = options.request;\n  this.body = body;\n}\n\nmodule.exports = MapiError;","map":{"version":3,"names":["constants","require","MapiError","options","errorType","type","ERROR_HTTP","body","JSON","parse","e","message","ERROR_REQUEST_ABORTED","statusCode","request","module","exports"],"sources":["D:/Github/mobx/multiple-mobx/node_modules/@mapbox/mapbox-sdk/lib/classes/mapi-error.js"],"sourcesContent":["'use strict';\n\nvar constants = require('../constants');\n\n/**\n * A Mapbox API error.\n *\n * If there's an error during the API transaction,\n * the Promise returned by `MapiRequest`'s [`send`](#send)\n * method should reject with a `MapiError`.\n *\n * @class MapiError\n * @hideconstructor\n * @property {MapiRequest} request - The errored request.\n * @property {string} type - The type of error. Usually this is `'HttpError'`.\n *   If the request was aborted, so the error was\n *   not sent from the server, the type will be\n *   `'RequestAbortedError'`.\n * @property {number} [statusCode] - The numeric status code of\n *   the HTTP response.\n * @property {Object | string} [body] - If the server sent a response body,\n *   this property exposes that response, parsed as JSON if possible.\n * @property {string} [message] - Whatever message could be derived from the\n *   call site and HTTP response.\n *\n * @param {MapiRequest} options.request\n * @param {number} [options.statusCode]\n * @param {string} [options.body]\n * @param {string} [options.message]\n * @param {string} [options.type]\n */\nfunction MapiError(options) {\n  var errorType = options.type || constants.ERROR_HTTP;\n\n  var body;\n  if (options.body) {\n    try {\n      body = JSON.parse(options.body);\n    } catch (e) {\n      body = options.body;\n    }\n  } else {\n    body = null;\n  }\n\n  var message = options.message || null;\n  if (!message) {\n    if (typeof body === 'string') {\n      message = body;\n    } else if (body && typeof body.message === 'string') {\n      message = body.message;\n    } else if (errorType === constants.ERROR_REQUEST_ABORTED) {\n      message = 'Request aborted';\n    }\n  }\n\n  this.message = message;\n  this.type = errorType;\n  this.statusCode = options.statusCode || null;\n  this.request = options.request;\n  this.body = body;\n}\n\nmodule.exports = MapiError;\n"],"mappings":"AAAA;;AAEA,IAAIA,SAAS,GAAGC,OAAO,CAAC,cAAD,CAAvB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,SAAT,CAAmBC,OAAnB,EAA4B;EAC1B,IAAIC,SAAS,GAAGD,OAAO,CAACE,IAAR,IAAgBL,SAAS,CAACM,UAA1C;EAEA,IAAIC,IAAJ;;EACA,IAAIJ,OAAO,CAACI,IAAZ,EAAkB;IAChB,IAAI;MACFA,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWN,OAAO,CAACI,IAAnB,CAAP;IACD,CAFD,CAEE,OAAOG,CAAP,EAAU;MACVH,IAAI,GAAGJ,OAAO,CAACI,IAAf;IACD;EACF,CAND,MAMO;IACLA,IAAI,GAAG,IAAP;EACD;;EAED,IAAII,OAAO,GAAGR,OAAO,CAACQ,OAAR,IAAmB,IAAjC;;EACA,IAAI,CAACA,OAAL,EAAc;IACZ,IAAI,OAAOJ,IAAP,KAAgB,QAApB,EAA8B;MAC5BI,OAAO,GAAGJ,IAAV;IACD,CAFD,MAEO,IAAIA,IAAI,IAAI,OAAOA,IAAI,CAACI,OAAZ,KAAwB,QAApC,EAA8C;MACnDA,OAAO,GAAGJ,IAAI,CAACI,OAAf;IACD,CAFM,MAEA,IAAIP,SAAS,KAAKJ,SAAS,CAACY,qBAA5B,EAAmD;MACxDD,OAAO,GAAG,iBAAV;IACD;EACF;;EAED,KAAKA,OAAL,GAAeA,OAAf;EACA,KAAKN,IAAL,GAAYD,SAAZ;EACA,KAAKS,UAAL,GAAkBV,OAAO,CAACU,UAAR,IAAsB,IAAxC;EACA,KAAKC,OAAL,GAAeX,OAAO,CAACW,OAAvB;EACA,KAAKP,IAAL,GAAYA,IAAZ;AACD;;AAEDQ,MAAM,CAACC,OAAP,GAAiBd,SAAjB"},"metadata":{},"sourceType":"script"}