{"ast":null,"code":"'use strict';\n/**\n * Validators are functions which assert certain type.\n * They can return a string which can then be used\n * to display a helpful error message.\n * They can also return a function for a custom error message.\n */\n\nvar isPlainObject = require('is-plain-obj');\n\nvar xtend = require('xtend');\n\nvar DEFAULT_ERROR_PATH = 'value';\nvar NEWLINE_INDENT = '\\n  ';\nvar v = {};\n/**\n * Runners\n *\n * Take root validators and run assertion\n */\n\nv.assert = function (rootValidator, options) {\n  options = options || {};\n  return function (value) {\n    var message = validate(rootValidator, value); // all good\n\n    if (!message) {\n      return;\n    }\n\n    var errorMessage = processMessage(message, options);\n\n    if (options.apiName) {\n      errorMessage = options.apiName + ': ' + errorMessage;\n    }\n\n    throw new Error(errorMessage);\n  };\n};\n/**\n * Higher Order Validators\n *\n * validators which take other validators as input\n * and output a new validator\n */\n\n\nv.shape = function shape(validatorObj) {\n  var validators = objectEntries(validatorObj);\n  return function shapeValidator(value) {\n    var validationResult = validate(v.plainObject, value);\n\n    if (validationResult) {\n      return validationResult;\n    }\n\n    var key, validator;\n    var errorMessages = [];\n\n    for (var i = 0; i < validators.length; i++) {\n      key = validators[i].key;\n      validator = validators[i].value;\n      validationResult = validate(validator, value[key]);\n\n      if (validationResult) {\n        // return [key].concat(validationResult);\n        errorMessages.push([key].concat(validationResult));\n      }\n    }\n\n    if (errorMessages.length < 2) {\n      return errorMessages[0];\n    } // enumerate all the error messages\n\n\n    return function (options) {\n      errorMessages = errorMessages.map(function (message) {\n        var key = message[0];\n        var renderedMessage = processMessage(message, options).split('\\n').join(NEWLINE_INDENT); // indents any inner nesting\n\n        return '- ' + key + ': ' + renderedMessage;\n      });\n      var objectId = options.path.join('.');\n      var ofPhrase = objectId === DEFAULT_ERROR_PATH ? '' : ' of ' + objectId;\n      return 'The following properties' + ofPhrase + ' have invalid values:' + NEWLINE_INDENT + errorMessages.join(NEWLINE_INDENT);\n    };\n  };\n};\n\nv.strictShape = function strictShape(validatorObj) {\n  var shapeValidator = v.shape(validatorObj);\n  return function strictShapeValidator(value) {\n    var shapeResult = shapeValidator(value);\n\n    if (shapeResult) {\n      return shapeResult;\n    }\n\n    var invalidKeys = Object.keys(value).reduce(function (memo, valueKey) {\n      if (validatorObj[valueKey] === undefined) {\n        memo.push(valueKey);\n      }\n\n      return memo;\n    }, []);\n\n    if (invalidKeys.length !== 0) {\n      return function () {\n        return 'The following keys are invalid: ' + invalidKeys.join(', ');\n      };\n    }\n  };\n};\n\nv.arrayOf = function arrayOf(validator) {\n  return createArrayValidator(validator);\n};\n\nv.tuple = function tuple() {\n  var validators = Array.isArray(arguments[0]) ? arguments[0] : Array.prototype.slice.call(arguments);\n  return createArrayValidator(validators);\n}; // Currently array validation fails when the first invalid item is found.\n\n\nfunction createArrayValidator(validators) {\n  var validatingTuple = Array.isArray(validators);\n\n  var getValidator = function (index) {\n    if (validatingTuple) {\n      return validators[index];\n    }\n\n    return validators;\n  };\n\n  return function arrayValidator(value) {\n    var validationResult = validate(v.plainArray, value);\n\n    if (validationResult) {\n      return validationResult;\n    }\n\n    if (validatingTuple && value.length !== validators.length) {\n      return 'an array with ' + validators.length + ' items';\n    }\n\n    for (var i = 0; i < value.length; i++) {\n      validationResult = validate(getValidator(i), value[i]);\n\n      if (validationResult) {\n        return [i].concat(validationResult);\n      }\n    }\n  };\n}\n\nv.required = function required(validator) {\n  function requiredValidator(value) {\n    if (value == null) {\n      return function (options) {\n        return formatErrorMessage(options, isArrayCulprit(options.path) ? 'cannot be undefined/null.' : 'is required.');\n      };\n    }\n\n    return validator.apply(this, arguments);\n  }\n\n  requiredValidator.__required = true;\n  return requiredValidator;\n};\n\nv.oneOfType = function oneOfType() {\n  var validators = Array.isArray(arguments[0]) ? arguments[0] : Array.prototype.slice.call(arguments);\n  return function oneOfTypeValidator(value) {\n    var messages = validators.map(function (validator) {\n      return validate(validator, value);\n    }).filter(Boolean); // If we don't have as many messages as no. of validators,\n    // then at least one validator was ok with the value.\n\n    if (messages.length !== validators.length) {\n      return;\n    } // check primitive type\n\n\n    if (messages.every(function (message) {\n      return message.length === 1 && typeof message[0] === 'string';\n    })) {\n      return orList(messages.map(function (m) {\n        return m[0];\n      }));\n    } // Complex oneOfTypes like\n    // `v.oneOftypes(v.shape({name: v.string})`, `v.shape({name: v.number}))`\n    // are complex ¯\\_(ツ)_/¯. For the current scope only returning the longest message.\n\n\n    return messages.reduce(function (max, arr) {\n      return arr.length > max.length ? arr : max;\n    });\n  };\n};\n/**\n * Meta Validators\n * which take options as argument (not validators)\n * and return a new primitive validator\n */\n\n\nv.equal = function equal(compareWith) {\n  return function equalValidator(value) {\n    if (value !== compareWith) {\n      return JSON.stringify(compareWith);\n    }\n  };\n};\n\nv.oneOf = function oneOf() {\n  var options = Array.isArray(arguments[0]) ? arguments[0] : Array.prototype.slice.call(arguments);\n  var validators = options.map(function (value) {\n    return v.equal(value);\n  });\n  return v.oneOfType.apply(this, validators);\n};\n\nv.range = function range(compareWith) {\n  var min = compareWith[0];\n  var max = compareWith[1];\n  return function rangeValidator(value) {\n    var validationResult = validate(v.number, value);\n\n    if (validationResult || value < min || value > max) {\n      return 'number between ' + min + ' & ' + max + ' (inclusive)';\n    }\n  };\n};\n/**\n * Primitive validators\n *\n * simple validators which return a string or undefined\n */\n\n\nv.any = function any() {\n  return;\n};\n\nv.boolean = function boolean(value) {\n  if (typeof value !== 'boolean') {\n    return 'boolean';\n  }\n};\n\nv.number = function number(value) {\n  if (typeof value !== 'number') {\n    return 'number';\n  }\n};\n\nv.plainArray = function plainArray(value) {\n  if (!Array.isArray(value)) {\n    return 'array';\n  }\n};\n\nv.plainObject = function plainObject(value) {\n  if (!isPlainObject(value)) {\n    return 'object';\n  }\n};\n\nv.string = function string(value) {\n  if (typeof value !== 'string') {\n    return 'string';\n  }\n};\n\nv.func = function func(value) {\n  if (typeof value !== 'function') {\n    return 'function';\n  }\n};\n\nfunction validate(validator, value) {\n  // assertions are optional by default unless wrapped in v.require\n  if (value == null && !validator.hasOwnProperty('__required')) {\n    return;\n  }\n\n  var result = validator(value);\n\n  if (result) {\n    return Array.isArray(result) ? result : [result];\n  }\n}\n\nfunction processMessage(message, options) {\n  // message array follows the convention\n  // [...path, result]\n  // path is an array of object keys / array indices\n  // result is output of the validator\n  var len = message.length;\n  var result = message[len - 1];\n  var path = message.slice(0, len - 1);\n\n  if (path.length === 0) {\n    path = [DEFAULT_ERROR_PATH];\n  }\n\n  options = xtend(options, {\n    path: path\n  });\n  return typeof result === 'function' ? result(options) // allows customization of result\n  : formatErrorMessage(options, prettifyResult(result));\n}\n\nfunction orList(list) {\n  if (list.length < 2) {\n    return list[0];\n  }\n\n  if (list.length === 2) {\n    return list.join(' or ');\n  }\n\n  return list.slice(0, -1).join(', ') + ', or ' + list.slice(-1);\n}\n\nfunction prettifyResult(result) {\n  return 'must be ' + addArticle(result) + '.';\n}\n\nfunction addArticle(nounPhrase) {\n  if (/^an? /.test(nounPhrase)) {\n    return nounPhrase;\n  }\n\n  if (/^[aeiou]/i.test(nounPhrase)) {\n    return 'an ' + nounPhrase;\n  }\n\n  if (/^[a-z]/i.test(nounPhrase)) {\n    return 'a ' + nounPhrase;\n  }\n\n  return nounPhrase;\n}\n\nfunction formatErrorMessage(options, prettyResult) {\n  var arrayCulprit = isArrayCulprit(options.path);\n  var output = options.path.join('.') + ' ' + prettyResult;\n  var prepend = arrayCulprit ? 'Item at position ' : '';\n  return prepend + output;\n}\n\nfunction isArrayCulprit(path) {\n  return typeof path[path.length - 1] == 'number' || typeof path[0] == 'number';\n}\n\nfunction objectEntries(obj) {\n  return Object.keys(obj || {}).map(function (key) {\n    return {\n      key: key,\n      value: obj[key]\n    };\n  });\n}\n\nv.validate = validate;\nv.processMessage = processMessage;\nmodule.exports = v;","map":{"version":3,"names":["isPlainObject","require","xtend","DEFAULT_ERROR_PATH","NEWLINE_INDENT","v","assert","rootValidator","options","value","message","validate","errorMessage","processMessage","apiName","Error","shape","validatorObj","validators","objectEntries","shapeValidator","validationResult","plainObject","key","validator","errorMessages","i","length","push","concat","map","renderedMessage","split","join","objectId","path","ofPhrase","strictShape","strictShapeValidator","shapeResult","invalidKeys","Object","keys","reduce","memo","valueKey","undefined","arrayOf","createArrayValidator","tuple","Array","isArray","arguments","prototype","slice","call","validatingTuple","getValidator","index","arrayValidator","plainArray","required","requiredValidator","formatErrorMessage","isArrayCulprit","apply","__required","oneOfType","oneOfTypeValidator","messages","filter","Boolean","every","orList","m","max","arr","equal","compareWith","equalValidator","JSON","stringify","oneOf","range","min","rangeValidator","number","any","boolean","string","func","hasOwnProperty","result","len","prettifyResult","list","addArticle","nounPhrase","test","prettyResult","arrayCulprit","output","prepend","obj","module","exports"],"sources":["D:/Github/mobx/multiple-mobx/node_modules/@mapbox/fusspot/lib/index.js"],"sourcesContent":["'use strict';\n/**\n * Validators are functions which assert certain type.\n * They can return a string which can then be used\n * to display a helpful error message.\n * They can also return a function for a custom error message.\n */\nvar isPlainObject = require('is-plain-obj');\nvar xtend = require('xtend');\n\nvar DEFAULT_ERROR_PATH = 'value';\nvar NEWLINE_INDENT = '\\n  ';\n\nvar v = {};\n\n/**\n * Runners\n *\n * Take root validators and run assertion\n */\nv.assert = function(rootValidator, options) {\n  options = options || {};\n  return function(value) {\n    var message = validate(rootValidator, value);\n    // all good\n    if (!message) {\n      return;\n    }\n\n    var errorMessage = processMessage(message, options);\n\n    if (options.apiName) {\n      errorMessage = options.apiName + ': ' + errorMessage;\n    }\n\n    throw new Error(errorMessage);\n  };\n};\n\n/**\n * Higher Order Validators\n *\n * validators which take other validators as input\n * and output a new validator\n */\nv.shape = function shape(validatorObj) {\n  var validators = objectEntries(validatorObj);\n  return function shapeValidator(value) {\n    var validationResult = validate(v.plainObject, value);\n\n    if (validationResult) {\n      return validationResult;\n    }\n\n    var key, validator;\n    var errorMessages = [];\n\n    for (var i = 0; i < validators.length; i++) {\n      key = validators[i].key;\n      validator = validators[i].value;\n      validationResult = validate(validator, value[key]);\n\n      if (validationResult) {\n        // return [key].concat(validationResult);\n        errorMessages.push([key].concat(validationResult));\n      }\n    }\n\n    if (errorMessages.length < 2) {\n      return errorMessages[0];\n    }\n\n    // enumerate all the error messages\n    return function(options) {\n      errorMessages = errorMessages.map(function(message) {\n        var key = message[0];\n        var renderedMessage = processMessage(message, options)\n          .split('\\n')\n          .join(NEWLINE_INDENT); // indents any inner nesting\n        return '- ' + key + ': ' + renderedMessage;\n      });\n\n      var objectId = options.path.join('.');\n      var ofPhrase = objectId === DEFAULT_ERROR_PATH ? '' : ' of ' + objectId;\n\n      return (\n        'The following properties' +\n        ofPhrase +\n        ' have invalid values:' +\n        NEWLINE_INDENT +\n        errorMessages.join(NEWLINE_INDENT)\n      );\n    };\n  };\n};\n\nv.strictShape = function strictShape(validatorObj) {\n  var shapeValidator = v.shape(validatorObj);\n  return function strictShapeValidator(value) {\n    var shapeResult = shapeValidator(value);\n    if (shapeResult) {\n      return shapeResult;\n    }\n\n    var invalidKeys = Object.keys(value).reduce(function(memo, valueKey) {\n      if (validatorObj[valueKey] === undefined) {\n        memo.push(valueKey);\n      }\n      return memo;\n    }, []);\n\n    if (invalidKeys.length !== 0) {\n      return function() {\n        return 'The following keys are invalid: ' + invalidKeys.join(', ');\n      };\n    }\n  };\n};\n\nv.arrayOf = function arrayOf(validator) {\n  return createArrayValidator(validator);\n};\n\nv.tuple = function tuple() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return createArrayValidator(validators);\n};\n\n// Currently array validation fails when the first invalid item is found.\nfunction createArrayValidator(validators) {\n  var validatingTuple = Array.isArray(validators);\n  var getValidator = function(index) {\n    if (validatingTuple) {\n      return validators[index];\n    }\n    return validators;\n  };\n\n  return function arrayValidator(value) {\n    var validationResult = validate(v.plainArray, value);\n    if (validationResult) {\n      return validationResult;\n    }\n\n    if (validatingTuple && value.length !== validators.length) {\n      return 'an array with ' + validators.length + ' items';\n    }\n\n    for (var i = 0; i < value.length; i++) {\n      validationResult = validate(getValidator(i), value[i]);\n      if (validationResult) {\n        return [i].concat(validationResult);\n      }\n    }\n  };\n}\n\nv.required = function required(validator) {\n  function requiredValidator(value) {\n    if (value == null) {\n      return function(options) {\n        return formatErrorMessage(\n          options,\n          isArrayCulprit(options.path)\n            ? 'cannot be undefined/null.'\n            : 'is required.'\n        );\n      };\n    }\n    return validator.apply(this, arguments);\n  }\n  requiredValidator.__required = true;\n\n  return requiredValidator;\n};\n\nv.oneOfType = function oneOfType() {\n  var validators = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  return function oneOfTypeValidator(value) {\n    var messages = validators\n      .map(function(validator) {\n        return validate(validator, value);\n      })\n      .filter(Boolean);\n\n    // If we don't have as many messages as no. of validators,\n    // then at least one validator was ok with the value.\n    if (messages.length !== validators.length) {\n      return;\n    }\n\n    // check primitive type\n    if (\n      messages.every(function(message) {\n        return message.length === 1 && typeof message[0] === 'string';\n      })\n    ) {\n      return orList(\n        messages.map(function(m) {\n          return m[0];\n        })\n      );\n    }\n\n    // Complex oneOfTypes like\n    // `v.oneOftypes(v.shape({name: v.string})`, `v.shape({name: v.number}))`\n    // are complex ¯\\_(ツ)_/¯. For the current scope only returning the longest message.\n    return messages.reduce(function(max, arr) {\n      return arr.length > max.length ? arr : max;\n    });\n  };\n};\n\n/**\n * Meta Validators\n * which take options as argument (not validators)\n * and return a new primitive validator\n */\nv.equal = function equal(compareWith) {\n  return function equalValidator(value) {\n    if (value !== compareWith) {\n      return JSON.stringify(compareWith);\n    }\n  };\n};\n\nv.oneOf = function oneOf() {\n  var options = Array.isArray(arguments[0])\n    ? arguments[0]\n    : Array.prototype.slice.call(arguments);\n  var validators = options.map(function(value) {\n    return v.equal(value);\n  });\n\n  return v.oneOfType.apply(this, validators);\n};\n\nv.range = function range(compareWith) {\n  var min = compareWith[0];\n  var max = compareWith[1];\n  return function rangeValidator(value) {\n    var validationResult = validate(v.number, value);\n\n    if (validationResult || value < min || value > max) {\n      return 'number between ' + min + ' & ' + max + ' (inclusive)';\n    }\n  };\n};\n\n/**\n * Primitive validators\n *\n * simple validators which return a string or undefined\n */\nv.any = function any() {\n  return;\n};\n\nv.boolean = function boolean(value) {\n  if (typeof value !== 'boolean') {\n    return 'boolean';\n  }\n};\n\nv.number = function number(value) {\n  if (typeof value !== 'number') {\n    return 'number';\n  }\n};\n\nv.plainArray = function plainArray(value) {\n  if (!Array.isArray(value)) {\n    return 'array';\n  }\n};\n\nv.plainObject = function plainObject(value) {\n  if (!isPlainObject(value)) {\n    return 'object';\n  }\n};\n\nv.string = function string(value) {\n  if (typeof value !== 'string') {\n    return 'string';\n  }\n};\n\nv.func = function func(value) {\n  if (typeof value !== 'function') {\n    return 'function';\n  }\n};\n\nfunction validate(validator, value) {\n  // assertions are optional by default unless wrapped in v.require\n  if (value == null && !validator.hasOwnProperty('__required')) {\n    return;\n  }\n\n  var result = validator(value);\n\n  if (result) {\n    return Array.isArray(result) ? result : [result];\n  }\n}\n\nfunction processMessage(message, options) {\n  // message array follows the convention\n  // [...path, result]\n  // path is an array of object keys / array indices\n  // result is output of the validator\n  var len = message.length;\n\n  var result = message[len - 1];\n  var path = message.slice(0, len - 1);\n\n  if (path.length === 0) {\n    path = [DEFAULT_ERROR_PATH];\n  }\n  options = xtend(options, { path: path });\n\n  return typeof result === 'function'\n    ? result(options) // allows customization of result\n    : formatErrorMessage(options, prettifyResult(result));\n}\n\nfunction orList(list) {\n  if (list.length < 2) {\n    return list[0];\n  }\n  if (list.length === 2) {\n    return list.join(' or ');\n  }\n  return list.slice(0, -1).join(', ') + ', or ' + list.slice(-1);\n}\n\nfunction prettifyResult(result) {\n  return 'must be ' + addArticle(result) + '.';\n}\n\nfunction addArticle(nounPhrase) {\n  if (/^an? /.test(nounPhrase)) {\n    return nounPhrase;\n  }\n  if (/^[aeiou]/i.test(nounPhrase)) {\n    return 'an ' + nounPhrase;\n  }\n  if (/^[a-z]/i.test(nounPhrase)) {\n    return 'a ' + nounPhrase;\n  }\n  return nounPhrase;\n}\n\nfunction formatErrorMessage(options, prettyResult) {\n  var arrayCulprit = isArrayCulprit(options.path);\n  var output = options.path.join('.') + ' ' + prettyResult;\n  var prepend = arrayCulprit ? 'Item at position ' : '';\n\n  return prepend + output;\n}\n\nfunction isArrayCulprit(path) {\n  return typeof path[path.length - 1] == 'number' || typeof path[0] == 'number';\n}\n\nfunction objectEntries(obj) {\n  return Object.keys(obj || {}).map(function(key) {\n    return { key: key, value: obj[key] };\n  });\n}\n\nv.validate = validate;\nv.processMessage = processMessage;\n\nmodule.exports = v;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,aAAa,GAAGC,OAAO,CAAC,cAAD,CAA3B;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAAnB;;AAEA,IAAIE,kBAAkB,GAAG,OAAzB;AACA,IAAIC,cAAc,GAAG,MAArB;AAEA,IAAIC,CAAC,GAAG,EAAR;AAEA;AACA;AACA;AACA;AACA;;AACAA,CAAC,CAACC,MAAF,GAAW,UAASC,aAAT,EAAwBC,OAAxB,EAAiC;EAC1CA,OAAO,GAAGA,OAAO,IAAI,EAArB;EACA,OAAO,UAASC,KAAT,EAAgB;IACrB,IAAIC,OAAO,GAAGC,QAAQ,CAACJ,aAAD,EAAgBE,KAAhB,CAAtB,CADqB,CAErB;;IACA,IAAI,CAACC,OAAL,EAAc;MACZ;IACD;;IAED,IAAIE,YAAY,GAAGC,cAAc,CAACH,OAAD,EAAUF,OAAV,CAAjC;;IAEA,IAAIA,OAAO,CAACM,OAAZ,EAAqB;MACnBF,YAAY,GAAGJ,OAAO,CAACM,OAAR,GAAkB,IAAlB,GAAyBF,YAAxC;IACD;;IAED,MAAM,IAAIG,KAAJ,CAAUH,YAAV,CAAN;EACD,CAdD;AAeD,CAjBD;AAmBA;AACA;AACA;AACA;AACA;AACA;;;AACAP,CAAC,CAACW,KAAF,GAAU,SAASA,KAAT,CAAeC,YAAf,EAA6B;EACrC,IAAIC,UAAU,GAAGC,aAAa,CAACF,YAAD,CAA9B;EACA,OAAO,SAASG,cAAT,CAAwBX,KAAxB,EAA+B;IACpC,IAAIY,gBAAgB,GAAGV,QAAQ,CAACN,CAAC,CAACiB,WAAH,EAAgBb,KAAhB,CAA/B;;IAEA,IAAIY,gBAAJ,EAAsB;MACpB,OAAOA,gBAAP;IACD;;IAED,IAAIE,GAAJ,EAASC,SAAT;IACA,IAAIC,aAAa,GAAG,EAApB;;IAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,UAAU,CAACS,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;MAC1CH,GAAG,GAAGL,UAAU,CAACQ,CAAD,CAAV,CAAcH,GAApB;MACAC,SAAS,GAAGN,UAAU,CAACQ,CAAD,CAAV,CAAcjB,KAA1B;MACAY,gBAAgB,GAAGV,QAAQ,CAACa,SAAD,EAAYf,KAAK,CAACc,GAAD,CAAjB,CAA3B;;MAEA,IAAIF,gBAAJ,EAAsB;QACpB;QACAI,aAAa,CAACG,IAAd,CAAmB,CAACL,GAAD,EAAMM,MAAN,CAAaR,gBAAb,CAAnB;MACD;IACF;;IAED,IAAII,aAAa,CAACE,MAAd,GAAuB,CAA3B,EAA8B;MAC5B,OAAOF,aAAa,CAAC,CAAD,CAApB;IACD,CAvBmC,CAyBpC;;;IACA,OAAO,UAASjB,OAAT,EAAkB;MACvBiB,aAAa,GAAGA,aAAa,CAACK,GAAd,CAAkB,UAASpB,OAAT,EAAkB;QAClD,IAAIa,GAAG,GAAGb,OAAO,CAAC,CAAD,CAAjB;QACA,IAAIqB,eAAe,GAAGlB,cAAc,CAACH,OAAD,EAAUF,OAAV,CAAd,CACnBwB,KADmB,CACb,IADa,EAEnBC,IAFmB,CAEd7B,cAFc,CAAtB,CAFkD,CAIzB;;QACzB,OAAO,OAAOmB,GAAP,GAAa,IAAb,GAAoBQ,eAA3B;MACD,CANe,CAAhB;MAQA,IAAIG,QAAQ,GAAG1B,OAAO,CAAC2B,IAAR,CAAaF,IAAb,CAAkB,GAAlB,CAAf;MACA,IAAIG,QAAQ,GAAGF,QAAQ,KAAK/B,kBAAb,GAAkC,EAAlC,GAAuC,SAAS+B,QAA/D;MAEA,OACE,6BACAE,QADA,GAEA,uBAFA,GAGAhC,cAHA,GAIAqB,aAAa,CAACQ,IAAd,CAAmB7B,cAAnB,CALF;IAOD,CAnBD;EAoBD,CA9CD;AA+CD,CAjDD;;AAmDAC,CAAC,CAACgC,WAAF,GAAgB,SAASA,WAAT,CAAqBpB,YAArB,EAAmC;EACjD,IAAIG,cAAc,GAAGf,CAAC,CAACW,KAAF,CAAQC,YAAR,CAArB;EACA,OAAO,SAASqB,oBAAT,CAA8B7B,KAA9B,EAAqC;IAC1C,IAAI8B,WAAW,GAAGnB,cAAc,CAACX,KAAD,CAAhC;;IACA,IAAI8B,WAAJ,EAAiB;MACf,OAAOA,WAAP;IACD;;IAED,IAAIC,WAAW,GAAGC,MAAM,CAACC,IAAP,CAAYjC,KAAZ,EAAmBkC,MAAnB,CAA0B,UAASC,IAAT,EAAeC,QAAf,EAAyB;MACnE,IAAI5B,YAAY,CAAC4B,QAAD,CAAZ,KAA2BC,SAA/B,EAA0C;QACxCF,IAAI,CAAChB,IAAL,CAAUiB,QAAV;MACD;;MACD,OAAOD,IAAP;IACD,CALiB,EAKf,EALe,CAAlB;;IAOA,IAAIJ,WAAW,CAACb,MAAZ,KAAuB,CAA3B,EAA8B;MAC5B,OAAO,YAAW;QAChB,OAAO,qCAAqCa,WAAW,CAACP,IAAZ,CAAiB,IAAjB,CAA5C;MACD,CAFD;IAGD;EACF,CAlBD;AAmBD,CArBD;;AAuBA5B,CAAC,CAAC0C,OAAF,GAAY,SAASA,OAAT,CAAiBvB,SAAjB,EAA4B;EACtC,OAAOwB,oBAAoB,CAACxB,SAAD,CAA3B;AACD,CAFD;;AAIAnB,CAAC,CAAC4C,KAAF,GAAU,SAASA,KAAT,GAAiB;EACzB,IAAI/B,UAAU,GAAGgC,KAAK,CAACC,OAAN,CAAcC,SAAS,CAAC,CAAD,CAAvB,IACbA,SAAS,CAAC,CAAD,CADI,GAEbF,KAAK,CAACG,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BH,SAA3B,CAFJ;EAGA,OAAOJ,oBAAoB,CAAC9B,UAAD,CAA3B;AACD,CALD,C,CAOA;;;AACA,SAAS8B,oBAAT,CAA8B9B,UAA9B,EAA0C;EACxC,IAAIsC,eAAe,GAAGN,KAAK,CAACC,OAAN,CAAcjC,UAAd,CAAtB;;EACA,IAAIuC,YAAY,GAAG,UAASC,KAAT,EAAgB;IACjC,IAAIF,eAAJ,EAAqB;MACnB,OAAOtC,UAAU,CAACwC,KAAD,CAAjB;IACD;;IACD,OAAOxC,UAAP;EACD,CALD;;EAOA,OAAO,SAASyC,cAAT,CAAwBlD,KAAxB,EAA+B;IACpC,IAAIY,gBAAgB,GAAGV,QAAQ,CAACN,CAAC,CAACuD,UAAH,EAAenD,KAAf,CAA/B;;IACA,IAAIY,gBAAJ,EAAsB;MACpB,OAAOA,gBAAP;IACD;;IAED,IAAImC,eAAe,IAAI/C,KAAK,CAACkB,MAAN,KAAiBT,UAAU,CAACS,MAAnD,EAA2D;MACzD,OAAO,mBAAmBT,UAAU,CAACS,MAA9B,GAAuC,QAA9C;IACD;;IAED,KAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjB,KAAK,CAACkB,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;MACrCL,gBAAgB,GAAGV,QAAQ,CAAC8C,YAAY,CAAC/B,CAAD,CAAb,EAAkBjB,KAAK,CAACiB,CAAD,CAAvB,CAA3B;;MACA,IAAIL,gBAAJ,EAAsB;QACpB,OAAO,CAACK,CAAD,EAAIG,MAAJ,CAAWR,gBAAX,CAAP;MACD;IACF;EACF,CAhBD;AAiBD;;AAEDhB,CAAC,CAACwD,QAAF,GAAa,SAASA,QAAT,CAAkBrC,SAAlB,EAA6B;EACxC,SAASsC,iBAAT,CAA2BrD,KAA3B,EAAkC;IAChC,IAAIA,KAAK,IAAI,IAAb,EAAmB;MACjB,OAAO,UAASD,OAAT,EAAkB;QACvB,OAAOuD,kBAAkB,CACvBvD,OADuB,EAEvBwD,cAAc,CAACxD,OAAO,CAAC2B,IAAT,CAAd,GACI,2BADJ,GAEI,cAJmB,CAAzB;MAMD,CAPD;IAQD;;IACD,OAAOX,SAAS,CAACyC,KAAV,CAAgB,IAAhB,EAAsBb,SAAtB,CAAP;EACD;;EACDU,iBAAiB,CAACI,UAAlB,GAA+B,IAA/B;EAEA,OAAOJ,iBAAP;AACD,CAjBD;;AAmBAzD,CAAC,CAAC8D,SAAF,GAAc,SAASA,SAAT,GAAqB;EACjC,IAAIjD,UAAU,GAAGgC,KAAK,CAACC,OAAN,CAAcC,SAAS,CAAC,CAAD,CAAvB,IACbA,SAAS,CAAC,CAAD,CADI,GAEbF,KAAK,CAACG,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BH,SAA3B,CAFJ;EAGA,OAAO,SAASgB,kBAAT,CAA4B3D,KAA5B,EAAmC;IACxC,IAAI4D,QAAQ,GAAGnD,UAAU,CACtBY,GADY,CACR,UAASN,SAAT,EAAoB;MACvB,OAAOb,QAAQ,CAACa,SAAD,EAAYf,KAAZ,CAAf;IACD,CAHY,EAIZ6D,MAJY,CAILC,OAJK,CAAf,CADwC,CAOxC;IACA;;IACA,IAAIF,QAAQ,CAAC1C,MAAT,KAAoBT,UAAU,CAACS,MAAnC,EAA2C;MACzC;IACD,CAXuC,CAaxC;;;IACA,IACE0C,QAAQ,CAACG,KAAT,CAAe,UAAS9D,OAAT,EAAkB;MAC/B,OAAOA,OAAO,CAACiB,MAAR,KAAmB,CAAnB,IAAwB,OAAOjB,OAAO,CAAC,CAAD,CAAd,KAAsB,QAArD;IACD,CAFD,CADF,EAIE;MACA,OAAO+D,MAAM,CACXJ,QAAQ,CAACvC,GAAT,CAAa,UAAS4C,CAAT,EAAY;QACvB,OAAOA,CAAC,CAAC,CAAD,CAAR;MACD,CAFD,CADW,CAAb;IAKD,CAxBuC,CA0BxC;IACA;IACA;;;IACA,OAAOL,QAAQ,CAAC1B,MAAT,CAAgB,UAASgC,GAAT,EAAcC,GAAd,EAAmB;MACxC,OAAOA,GAAG,CAACjD,MAAJ,GAAagD,GAAG,CAAChD,MAAjB,GAA0BiD,GAA1B,GAAgCD,GAAvC;IACD,CAFM,CAAP;EAGD,CAhCD;AAiCD,CArCD;AAuCA;AACA;AACA;AACA;AACA;;;AACAtE,CAAC,CAACwE,KAAF,GAAU,SAASA,KAAT,CAAeC,WAAf,EAA4B;EACpC,OAAO,SAASC,cAAT,CAAwBtE,KAAxB,EAA+B;IACpC,IAAIA,KAAK,KAAKqE,WAAd,EAA2B;MACzB,OAAOE,IAAI,CAACC,SAAL,CAAeH,WAAf,CAAP;IACD;EACF,CAJD;AAKD,CAND;;AAQAzE,CAAC,CAAC6E,KAAF,GAAU,SAASA,KAAT,GAAiB;EACzB,IAAI1E,OAAO,GAAG0C,KAAK,CAACC,OAAN,CAAcC,SAAS,CAAC,CAAD,CAAvB,IACVA,SAAS,CAAC,CAAD,CADC,GAEVF,KAAK,CAACG,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BH,SAA3B,CAFJ;EAGA,IAAIlC,UAAU,GAAGV,OAAO,CAACsB,GAAR,CAAY,UAASrB,KAAT,EAAgB;IAC3C,OAAOJ,CAAC,CAACwE,KAAF,CAAQpE,KAAR,CAAP;EACD,CAFgB,CAAjB;EAIA,OAAOJ,CAAC,CAAC8D,SAAF,CAAYF,KAAZ,CAAkB,IAAlB,EAAwB/C,UAAxB,CAAP;AACD,CATD;;AAWAb,CAAC,CAAC8E,KAAF,GAAU,SAASA,KAAT,CAAeL,WAAf,EAA4B;EACpC,IAAIM,GAAG,GAAGN,WAAW,CAAC,CAAD,CAArB;EACA,IAAIH,GAAG,GAAGG,WAAW,CAAC,CAAD,CAArB;EACA,OAAO,SAASO,cAAT,CAAwB5E,KAAxB,EAA+B;IACpC,IAAIY,gBAAgB,GAAGV,QAAQ,CAACN,CAAC,CAACiF,MAAH,EAAW7E,KAAX,CAA/B;;IAEA,IAAIY,gBAAgB,IAAIZ,KAAK,GAAG2E,GAA5B,IAAmC3E,KAAK,GAAGkE,GAA/C,EAAoD;MAClD,OAAO,oBAAoBS,GAApB,GAA0B,KAA1B,GAAkCT,GAAlC,GAAwC,cAA/C;IACD;EACF,CAND;AAOD,CAVD;AAYA;AACA;AACA;AACA;AACA;;;AACAtE,CAAC,CAACkF,GAAF,GAAQ,SAASA,GAAT,GAAe;EACrB;AACD,CAFD;;AAIAlF,CAAC,CAACmF,OAAF,GAAY,SAASA,OAAT,CAAiB/E,KAAjB,EAAwB;EAClC,IAAI,OAAOA,KAAP,KAAiB,SAArB,EAAgC;IAC9B,OAAO,SAAP;EACD;AACF,CAJD;;AAMAJ,CAAC,CAACiF,MAAF,GAAW,SAASA,MAAT,CAAgB7E,KAAhB,EAAuB;EAChC,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;IAC7B,OAAO,QAAP;EACD;AACF,CAJD;;AAMAJ,CAAC,CAACuD,UAAF,GAAe,SAASA,UAAT,CAAoBnD,KAApB,EAA2B;EACxC,IAAI,CAACyC,KAAK,CAACC,OAAN,CAAc1C,KAAd,CAAL,EAA2B;IACzB,OAAO,OAAP;EACD;AACF,CAJD;;AAMAJ,CAAC,CAACiB,WAAF,GAAgB,SAASA,WAAT,CAAqBb,KAArB,EAA4B;EAC1C,IAAI,CAACT,aAAa,CAACS,KAAD,CAAlB,EAA2B;IACzB,OAAO,QAAP;EACD;AACF,CAJD;;AAMAJ,CAAC,CAACoF,MAAF,GAAW,SAASA,MAAT,CAAgBhF,KAAhB,EAAuB;EAChC,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;IAC7B,OAAO,QAAP;EACD;AACF,CAJD;;AAMAJ,CAAC,CAACqF,IAAF,GAAS,SAASA,IAAT,CAAcjF,KAAd,EAAqB;EAC5B,IAAI,OAAOA,KAAP,KAAiB,UAArB,EAAiC;IAC/B,OAAO,UAAP;EACD;AACF,CAJD;;AAMA,SAASE,QAAT,CAAkBa,SAAlB,EAA6Bf,KAA7B,EAAoC;EAClC;EACA,IAAIA,KAAK,IAAI,IAAT,IAAiB,CAACe,SAAS,CAACmE,cAAV,CAAyB,YAAzB,CAAtB,EAA8D;IAC5D;EACD;;EAED,IAAIC,MAAM,GAAGpE,SAAS,CAACf,KAAD,CAAtB;;EAEA,IAAImF,MAAJ,EAAY;IACV,OAAO1C,KAAK,CAACC,OAAN,CAAcyC,MAAd,IAAwBA,MAAxB,GAAiC,CAACA,MAAD,CAAxC;EACD;AACF;;AAED,SAAS/E,cAAT,CAAwBH,OAAxB,EAAiCF,OAAjC,EAA0C;EACxC;EACA;EACA;EACA;EACA,IAAIqF,GAAG,GAAGnF,OAAO,CAACiB,MAAlB;EAEA,IAAIiE,MAAM,GAAGlF,OAAO,CAACmF,GAAG,GAAG,CAAP,CAApB;EACA,IAAI1D,IAAI,GAAGzB,OAAO,CAAC4C,KAAR,CAAc,CAAd,EAAiBuC,GAAG,GAAG,CAAvB,CAAX;;EAEA,IAAI1D,IAAI,CAACR,MAAL,KAAgB,CAApB,EAAuB;IACrBQ,IAAI,GAAG,CAAChC,kBAAD,CAAP;EACD;;EACDK,OAAO,GAAGN,KAAK,CAACM,OAAD,EAAU;IAAE2B,IAAI,EAAEA;EAAR,CAAV,CAAf;EAEA,OAAO,OAAOyD,MAAP,KAAkB,UAAlB,GACHA,MAAM,CAACpF,OAAD,CADH,CACa;EADb,EAEHuD,kBAAkB,CAACvD,OAAD,EAAUsF,cAAc,CAACF,MAAD,CAAxB,CAFtB;AAGD;;AAED,SAASnB,MAAT,CAAgBsB,IAAhB,EAAsB;EACpB,IAAIA,IAAI,CAACpE,MAAL,GAAc,CAAlB,EAAqB;IACnB,OAAOoE,IAAI,CAAC,CAAD,CAAX;EACD;;EACD,IAAIA,IAAI,CAACpE,MAAL,KAAgB,CAApB,EAAuB;IACrB,OAAOoE,IAAI,CAAC9D,IAAL,CAAU,MAAV,CAAP;EACD;;EACD,OAAO8D,IAAI,CAACzC,KAAL,CAAW,CAAX,EAAc,CAAC,CAAf,EAAkBrB,IAAlB,CAAuB,IAAvB,IAA+B,OAA/B,GAAyC8D,IAAI,CAACzC,KAAL,CAAW,CAAC,CAAZ,CAAhD;AACD;;AAED,SAASwC,cAAT,CAAwBF,MAAxB,EAAgC;EAC9B,OAAO,aAAaI,UAAU,CAACJ,MAAD,CAAvB,GAAkC,GAAzC;AACD;;AAED,SAASI,UAAT,CAAoBC,UAApB,EAAgC;EAC9B,IAAI,QAAQC,IAAR,CAAaD,UAAb,CAAJ,EAA8B;IAC5B,OAAOA,UAAP;EACD;;EACD,IAAI,YAAYC,IAAZ,CAAiBD,UAAjB,CAAJ,EAAkC;IAChC,OAAO,QAAQA,UAAf;EACD;;EACD,IAAI,UAAUC,IAAV,CAAeD,UAAf,CAAJ,EAAgC;IAC9B,OAAO,OAAOA,UAAd;EACD;;EACD,OAAOA,UAAP;AACD;;AAED,SAASlC,kBAAT,CAA4BvD,OAA5B,EAAqC2F,YAArC,EAAmD;EACjD,IAAIC,YAAY,GAAGpC,cAAc,CAACxD,OAAO,CAAC2B,IAAT,CAAjC;EACA,IAAIkE,MAAM,GAAG7F,OAAO,CAAC2B,IAAR,CAAaF,IAAb,CAAkB,GAAlB,IAAyB,GAAzB,GAA+BkE,YAA5C;EACA,IAAIG,OAAO,GAAGF,YAAY,GAAG,mBAAH,GAAyB,EAAnD;EAEA,OAAOE,OAAO,GAAGD,MAAjB;AACD;;AAED,SAASrC,cAAT,CAAwB7B,IAAxB,EAA8B;EAC5B,OAAO,OAAOA,IAAI,CAACA,IAAI,CAACR,MAAL,GAAc,CAAf,CAAX,IAAgC,QAAhC,IAA4C,OAAOQ,IAAI,CAAC,CAAD,CAAX,IAAkB,QAArE;AACD;;AAED,SAAShB,aAAT,CAAuBoF,GAAvB,EAA4B;EAC1B,OAAO9D,MAAM,CAACC,IAAP,CAAY6D,GAAG,IAAI,EAAnB,EAAuBzE,GAAvB,CAA2B,UAASP,GAAT,EAAc;IAC9C,OAAO;MAAEA,GAAG,EAAEA,GAAP;MAAYd,KAAK,EAAE8F,GAAG,CAAChF,GAAD;IAAtB,CAAP;EACD,CAFM,CAAP;AAGD;;AAEDlB,CAAC,CAACM,QAAF,GAAaA,QAAb;AACAN,CAAC,CAACQ,cAAF,GAAmBA,cAAnB;AAEA2F,MAAM,CAACC,OAAP,GAAiBpG,CAAjB"},"metadata":{},"sourceType":"script"}