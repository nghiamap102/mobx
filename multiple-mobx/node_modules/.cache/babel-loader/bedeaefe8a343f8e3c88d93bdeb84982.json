{"ast":null,"code":"'use strict'; // Like https://github.com/thlorenz/lib/parse-link-header but without any\n// additional dependencies.\n\nfunction parseParam(param) {\n  var parts = param.match(/\\s*(.+)\\s*=\\s*\"?([^\"]+)\"?/);\n  if (!parts) return null;\n  return {\n    key: parts[1],\n    value: parts[2]\n  };\n}\n\nfunction parseLink(link) {\n  var parts = link.match(/<?([^>]*)>(.*)/);\n  if (!parts) return null;\n  var linkUrl = parts[1];\n  var linkParams = parts[2].split(';');\n  var rel = null;\n  var parsedLinkParams = linkParams.reduce(function (result, param) {\n    var parsed = parseParam(param);\n    if (!parsed) return result;\n\n    if (parsed.key === 'rel') {\n      if (!rel) {\n        rel = parsed.value;\n      }\n\n      return result;\n    }\n\n    result[parsed.key] = parsed.value;\n    return result;\n  }, {});\n  if (!rel) return null;\n  return {\n    url: linkUrl,\n    rel: rel,\n    params: parsedLinkParams\n  };\n}\n/**\n * Parse a Link header.\n *\n * @param {string} linkHeader\n * @returns {{\n *   [string]: {\n *     url: string,\n *     params: { [string]: string }\n *   }\n * }}\n */\n\n\nfunction parseLinkHeader(linkHeader) {\n  if (!linkHeader) return {};\n  return linkHeader.split(/,\\s*</).reduce(function (result, link) {\n    var parsed = parseLink(link);\n    if (!parsed) return result; // rel value can be multiple whitespace-separated rels.\n\n    var splitRel = parsed.rel.split(/\\s+/);\n    splitRel.forEach(function (rel) {\n      if (!result[rel]) {\n        result[rel] = {\n          url: parsed.url,\n          params: parsed.params\n        };\n      }\n    });\n    return result;\n  }, {});\n}\n\nmodule.exports = parseLinkHeader;","map":{"version":3,"names":["parseParam","param","parts","match","key","value","parseLink","link","linkUrl","linkParams","split","rel","parsedLinkParams","reduce","result","parsed","url","params","parseLinkHeader","linkHeader","splitRel","forEach","module","exports"],"sources":["D:/Github/mobx/multiple-mobx/node_modules/@mapbox/mapbox-sdk/lib/helpers/parse-link-header.js"],"sourcesContent":["'use strict';\n\n// Like https://github.com/thlorenz/lib/parse-link-header but without any\n// additional dependencies.\n\nfunction parseParam(param) {\n  var parts = param.match(/\\s*(.+)\\s*=\\s*\"?([^\"]+)\"?/);\n  if (!parts) return null;\n\n  return {\n    key: parts[1],\n    value: parts[2]\n  };\n}\n\nfunction parseLink(link) {\n  var parts = link.match(/<?([^>]*)>(.*)/);\n  if (!parts) return null;\n\n  var linkUrl = parts[1];\n  var linkParams = parts[2].split(';');\n  var rel = null;\n  var parsedLinkParams = linkParams.reduce(function(result, param) {\n    var parsed = parseParam(param);\n    if (!parsed) return result;\n    if (parsed.key === 'rel') {\n      if (!rel) {\n        rel = parsed.value;\n      }\n      return result;\n    }\n    result[parsed.key] = parsed.value;\n    return result;\n  }, {});\n  if (!rel) return null;\n\n  return {\n    url: linkUrl,\n    rel: rel,\n    params: parsedLinkParams\n  };\n}\n\n/**\n * Parse a Link header.\n *\n * @param {string} linkHeader\n * @returns {{\n *   [string]: {\n *     url: string,\n *     params: { [string]: string }\n *   }\n * }}\n */\nfunction parseLinkHeader(linkHeader) {\n  if (!linkHeader) return {};\n\n  return linkHeader.split(/,\\s*</).reduce(function(result, link) {\n    var parsed = parseLink(link);\n    if (!parsed) return result;\n    // rel value can be multiple whitespace-separated rels.\n    var splitRel = parsed.rel.split(/\\s+/);\n    splitRel.forEach(function(rel) {\n      if (!result[rel]) {\n        result[rel] = {\n          url: parsed.url,\n          params: parsed.params\n        };\n      }\n    });\n    return result;\n  }, {});\n}\n\nmodule.exports = parseLinkHeader;\n"],"mappings":"AAAA,a,CAEA;AACA;;AAEA,SAASA,UAAT,CAAoBC,KAApB,EAA2B;EACzB,IAAIC,KAAK,GAAGD,KAAK,CAACE,KAAN,CAAY,2BAAZ,CAAZ;EACA,IAAI,CAACD,KAAL,EAAY,OAAO,IAAP;EAEZ,OAAO;IACLE,GAAG,EAAEF,KAAK,CAAC,CAAD,CADL;IAELG,KAAK,EAAEH,KAAK,CAAC,CAAD;EAFP,CAAP;AAID;;AAED,SAASI,SAAT,CAAmBC,IAAnB,EAAyB;EACvB,IAAIL,KAAK,GAAGK,IAAI,CAACJ,KAAL,CAAW,gBAAX,CAAZ;EACA,IAAI,CAACD,KAAL,EAAY,OAAO,IAAP;EAEZ,IAAIM,OAAO,GAAGN,KAAK,CAAC,CAAD,CAAnB;EACA,IAAIO,UAAU,GAAGP,KAAK,CAAC,CAAD,CAAL,CAASQ,KAAT,CAAe,GAAf,CAAjB;EACA,IAAIC,GAAG,GAAG,IAAV;EACA,IAAIC,gBAAgB,GAAGH,UAAU,CAACI,MAAX,CAAkB,UAASC,MAAT,EAAiBb,KAAjB,EAAwB;IAC/D,IAAIc,MAAM,GAAGf,UAAU,CAACC,KAAD,CAAvB;IACA,IAAI,CAACc,MAAL,EAAa,OAAOD,MAAP;;IACb,IAAIC,MAAM,CAACX,GAAP,KAAe,KAAnB,EAA0B;MACxB,IAAI,CAACO,GAAL,EAAU;QACRA,GAAG,GAAGI,MAAM,CAACV,KAAb;MACD;;MACD,OAAOS,MAAP;IACD;;IACDA,MAAM,CAACC,MAAM,CAACX,GAAR,CAAN,GAAqBW,MAAM,CAACV,KAA5B;IACA,OAAOS,MAAP;EACD,CAXsB,EAWpB,EAXoB,CAAvB;EAYA,IAAI,CAACH,GAAL,EAAU,OAAO,IAAP;EAEV,OAAO;IACLK,GAAG,EAAER,OADA;IAELG,GAAG,EAAEA,GAFA;IAGLM,MAAM,EAAEL;EAHH,CAAP;AAKD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASM,eAAT,CAAyBC,UAAzB,EAAqC;EACnC,IAAI,CAACA,UAAL,EAAiB,OAAO,EAAP;EAEjB,OAAOA,UAAU,CAACT,KAAX,CAAiB,OAAjB,EAA0BG,MAA1B,CAAiC,UAASC,MAAT,EAAiBP,IAAjB,EAAuB;IAC7D,IAAIQ,MAAM,GAAGT,SAAS,CAACC,IAAD,CAAtB;IACA,IAAI,CAACQ,MAAL,EAAa,OAAOD,MAAP,CAFgD,CAG7D;;IACA,IAAIM,QAAQ,GAAGL,MAAM,CAACJ,GAAP,CAAWD,KAAX,CAAiB,KAAjB,CAAf;IACAU,QAAQ,CAACC,OAAT,CAAiB,UAASV,GAAT,EAAc;MAC7B,IAAI,CAACG,MAAM,CAACH,GAAD,CAAX,EAAkB;QAChBG,MAAM,CAACH,GAAD,CAAN,GAAc;UACZK,GAAG,EAAED,MAAM,CAACC,GADA;UAEZC,MAAM,EAAEF,MAAM,CAACE;QAFH,CAAd;MAID;IACF,CAPD;IAQA,OAAOH,MAAP;EACD,CAdM,EAcJ,EAdI,CAAP;AAeD;;AAEDQ,MAAM,CAACC,OAAP,GAAiBL,eAAjB"},"metadata":{},"sourceType":"script"}